
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	Если НЕ ЗначениеЗаполнено(ВерсияФормата) Тогда
		//ТУДУ: сделать автоопределение версии формата.
		//Код дублируется здесь чтобы при первой загрузке что-то было заполнено.
		ВерсияФормата = "2.10";
	КонецЕсли;
КонецПроцедуры

&НаСервере
Процедура ПриЗагрузкеДанныхИзНастроекНаСервере(Настройки)
	Если НЕ ЗначениеЗаполнено(ВерсияФормата) Тогда
		//ТУДУ: сделать автоопределение версии формата.
		ВерсияФормата = "2.10";
	КонецЕсли;
КонецПроцедуры

&НаСервере
Процедура ГенерироватьНаСервере()
	А1Э_Механизмы.СоздатьРасширениеМеханизмов(, ЭтаФорма.ПутьСохранения, А1Э_Структуры.Создать(
	"ВерсияФормата", ВерсияФормата,
	));
КонецПроцедуры

&НаКлиенте
Процедура Генерировать(Команда)
	ГенерироватьНаСервере();
КонецПроцедуры

&НаКлиенте
Процедура ПутьСохраненияНачалоВыбора(Элемент, ДанныеВыбора, СтандартнаяОбработка) 
	А1Э_Файлы.ПоказатьВыборФайла("ПутьСохраненияПослеВыбораФайла", ЭтаФорма, А1Э_Структуры.Создать(
	"Режим", "ВыборКаталога",
	));
КонецПроцедуры

&НаКлиенте
Процедура ПутьСохраненияПослеВыбораФайла(Результат, Контекст) Экспорт
	Если ЗначениеЗаполнено(Результат) Тогда
		ПутьСохранения = Результат[0];
	КонецЕсли;
КонецПроцедуры 

#Область ОбработчикиУниверсальнойФормы1_1_1

#Область СписокИзменений
//1.0.1 - добавлены нажатия для гиперссылок.
//1.1.0 - добавлено подключение произвольных обработчиков ожидания.
//1.1.1 - исправлена ошибка, возникающая когда имя общего модуля равно имени реквизита формы.
#КонецОбласти

#Область Общее

&НаКлиенте 
Функция А1_ОбработчикУниверсальнойФормы__Действие(Элемент, Событие = Неопределено, П1 = Null, П2 = Null, П3 = Null, П4 = Null, П5 = Null) 
	А1_ОбработчикУниверсальнойФормы__ДействиеПродолжение(0, Элемент, Событие, П1, П2, П3, П4, П5);
КонецФункции

&НаКлиенте
Функция А1_ОбработчикУниверсальнойФормы__ДействиеПродолжение(Индекс, Элемент, Событие = Неопределено, П1 = Null, П2 = Null, П3 = Null, П4 = Null, П5 = Null) 
	Обработчики = А1Э_УниверсальнаяФорма.ОбработчикиОбъекта(ЭтаФорма, Элемент, Событие);
	Для Сч = Индекс По Обработчики.Количество() - 1 Цикл
		Обработчик = Обработчики[Сч];
		Если А1Э_УниверсальнаяФорма.НаКлиенте(Обработчик) Тогда
			А1Э_Модуль = А1Э_УниверсальнаяФорма.МодульОбработчика(Обработчик.Имя);
			Результат = Вычислить(А1Э_УниверсальнаяФорма.СтрокаВыполненияОбработчика1_1_1(Обработчик.Имя, П1, П2, П3, П4, П5));
		ИначеЕсли А1Э_УниверсальнаяФорма.НаСервере(Обработчик) Тогда
			А1_ОбработчикУниверсальнойФормы__ДействиеСервер(Обработчик, Элемент.Имя, П1, П2, П3, П4, П5);
		ИначеЕсли А1Э_УниверсальнаяФорма.НаКлиентеАсинхронно(Обработчик) Тогда
			А1Э_Модуль = А1Э_УниверсальнаяФорма.МодульОбработчика(Обработчик.Имя);
			АсинхронныйКонтекст = А1Э_УниверсальнаяФорма.АсинхронныйКонтекст(Сч, Событие);
			Результат = Вычислить(А1Э_УниверсальнаяФорма.СтрокаВыполненияОбработчикаАсинхронно1_1_1(Обработчик.Имя, П1, П2, П3, П4, П5));
			Возврат Неопределено;
		КонецЕсли;	
	КонецЦикла;
КонецФункции

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ДействиеЗавершение(Результат, АсинхронныйКонтейнер) Экспорт 
	А1_ОбработчикУниверсальнойФормы__ДействиеПродолжение(АсинхронныйКонтейнер.АсинхронныйКонтекст.СледующийИндекс,
	АсинхронныйКонтейнер.Элемент, АсинхронныйКонтейнер.АсинхронныйКонтекст.Событие, 
	АсинхронныйКонтейнер.П1, АсинхронныйКонтейнер.П2, АсинхронныйКонтейнер.П3, АсинхронныйКонтейнер.П4, АсинхронныйКонтейнер.П5); 
КонецПроцедуры

&НаСервере 
Функция А1_ОбработчикУниверсальнойФормы__ДействиеСервер(Обработчик, Элемент, П1 = Null, П2 = Null, П3 = Null, П4 = Null, П5 = Null) 
	А1Э_Модуль = А1Э_УниверсальнаяФорма.МодульОбработчика(Обработчик.Имя);
	Результат = Вычислить(А1Э_УниверсальнаяФорма.СтрокаВыполненияОбработчика1_1_1(Обработчик.Имя, П1, П2, П3, П4, П5));  
КонецФункции 

#КонецОбласти 

#Область Команды

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ВыполнениеКоманды(Команда)
	А1_ОбработчикУниверсальнойФормы__Действие(Команда);	
КонецПроцедуры 

&НаСервере
Функция А1_ОбработчикУниверсальнойФормы__ВыполнениеКоманды_Сервер(ИмяКоманды) 
	А1Э_УниверсальнаяФорма.ВыполнитьОбработчикКомандыСервер(ЭтаФорма, ИмяКоманды);
КонецФункции

&НаКлиенте
Функция А1_ОбработчикУниверсальнойФормы__ВыполнениеКомандыНаСервере(Команда)
	ИмяКоманды = Команда.Имя;
	А1_ОбработчикУниверсальнойФормы__ВыполнениеКоманды_Сервер(ИмяКоманды);
КонецФункции

&НаКлиенте 
Функция А1_ОбработчикУниверсальнойФормы__ВыполнениеКомандыНаКлиентеНаСервере_Завершение(Результат, ДополнительныеПараметры) Экспорт
	А1_ОбработчикУниверсальнойФормы__ВыполнениеКоманды_Сервер(А1Э_Общее.ЗначениеСвойства(ДополнительныеПараметры, "ИмяКоманды", "")); 
КонецФункции

#КонецОбласти 

#Область ОбработчикиОжидания

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ОбработчикОжидания_Постоянные() 
	А1Э_УниверсальнаяФорма.ВыполнитьОбработчикиОжидания(ЭтаФорма);
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ОбработчикОжидания_Однократные() 
	А1Э_УниверсальнаяФорма.ВыполнитьОбработчикиОжидания(ЭтаФорма);
КонецПроцедуры

#КонецОбласти

#Область СобытияРеквизитов

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ПриИзменении(Элемент)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ПриИзменении");
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__НачалоВыбора(Элемент, ДанныеВыбора, СтандартнаяОбработка)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "НачалоВыбора", ДанныеВыбора, СтандартнаяОбработка);
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__НачалоВыбораИзСписка(Элемент, СтандартнаяОбработка)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "НачалоВыбораИзСписка", СтандартнаяОбработка);
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__Очистка(Элемент, СтандартнаяОбработка)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "Очистка", СтандартнаяОбработка);	
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__Регулирование(Элемент, Направление, СтандартнаяОбработка)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "Регулирование", Направление, СтандартнаяОбработка);	
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__Открытие(Элемент, СтандартнаяОбработка)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "Открытие", СтандартнаяОбработка);	
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__Создание(Элемент, СтандартнаяОбработка)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "Создание", СтандартнаяОбработка);	
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ОбработкаВыбора(Элемент, ВыбранноеЗначение, СтандартнаяОбработка)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ОбработкаВыбора", ВыбранноеЗначение, СтандартнаяОбработка);	
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ИзменениеТекстаРедактирования(Элемент, Текст, СтандартнаяОбработка)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ИзменениеТекстаРедактирования", Текст, СтандартнаяОбработка);	
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__АвтоПодбор(Элемент, Текст, ДанныеВыбора, ПараметрыПолученияДанных, Ожидание, СтандартнаяОбработка)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "АвтоПодбор", Текст, ДанныеВыбора, ПараметрыПолученияДанных, Ожидание, СтандартнаяОбработка);	
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ОкончаниеВводаТекста(Элемент, Текст, ДанныеВыбора, ПараметрыПолученияДанных, СтандартнаяОбработка)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ОкончаниеВводаТекста", Текст, ДанныеВыбора, ПараметрыПолученияДанных, СтандартнаяОбработка);	
КонецПроцедуры

#КонецОбласти 

#Область СобытияТабличныхЧастей 

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__Выбор(Элемент, ВыбраннаяСтрока, Поле, СтандартнаяОбработка)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "Выбор", ВыбраннаяСтрока, Поле, СтандартнаяОбработка);
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ПриАктивизацииСтроки(Элемент)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ПриАктивизацииСтроки");
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ВыборЗначения(Элемент, Значение, СтандартнаяОбработка)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ВыборЗначения", Значение, СтандартнаяОбработка);
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ПриАктивизацииПоля(Элемент)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ПриАктивизацииПоля");
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ПриАктивизацииЯчейки(Элемент)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ПриАктивизацииЯчейки");
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ПередНачаломДобавления(Элемент, Отказ, Копирование, Родитель, Группа, Параметр)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ПередНачаломДобавления", Отказ, Копирование, Родитель, Группа, Параметр);
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ПередНачаломИзменения(Элемент, Отказ)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ПередНачаломИзменения", Отказ);
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ПередУдалением(Элемент, Отказ)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ПередУдалением", Отказ);
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ПриНачалеРедактирования(Элемент, НоваяСтрока, Копирование)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ПриНачалеРедактирования", НоваяСтрока, Копирование);
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ПередОкончаниемРедактирования(Элемент, НоваяСтрока, ОтменаРедактирования, Отказ)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ПередОкончаниемРедактирования", НоваяСтрока, ОтменаРедактирования, Отказ);
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ПриОкончанииРедактирования(Элемент, НоваяСтрока, ОтменаРедактирования)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ПриОкончанииРедактирования", НоваяСтрока, ОтменаРедактирования);
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ПередРазворачиванием(Элемент, Строка, Отказ)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ПередРазворачиванием", Строка, Отказ);
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ПередСворачиванием(Элемент, Строка, Отказ)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ПередСворачиванием", Строка, Отказ);
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ПослеУдаления(Элемент)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ПослеУдаления");
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ПриСменеТекущегоРодителя(Элемент)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ПриСменеТекущегоРодителя");
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__НачалоПеретаскивания(Элемент, ПараметрыПеретаскивания, Выполнение)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "НачалоПеретаскивания", ПараметрыПеретаскивания, Выполнение);
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ПроверкаПеретаскивания(Элемент, ПараметрыПеретаскивания, СтандартнаяОбработка, Строка, Поле)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ПроверкаПеретаскивания", ПараметрыПеретаскивания, СтандартнаяОбработка, Строка, Поле);
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ОкончаниеПеретаскивания(Элемент, ПараметрыПеретаскивания, СтандартнаяОбработка)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ОкончаниеПеретаскивания", ПараметрыПеретаскивания, СтандартнаяОбработка);
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__Перетаскивание(Элемент, ПараметрыПеретаскивания, СтандартнаяОбработка, Строка, Поле)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "Перетаскивание", ПараметрыПеретаскивания, СтандартнаяОбработка, Строка, Поле);
КонецПроцедуры

#КонецОбласти

#Область СобытияТабличныхДокументов

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ОбработкаРасшифровки(Элемент, Расшифровка, СтандартнаяОбработка, ДополнительныеПараметры)
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ОбработкаРасшифровки", Расшифровка, СтандартнаяОбработка, ДополнительныеПараметры);
КонецПроцедуры

#КонецОбласти

#Область СобытияПланировщика

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ПриАктивизации(Элемент) 
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ПриАктивизации");
КонецПроцедуры 

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ПередСозданием(Элемент, Начало, Конец, Значения, Текст, СтандартнаяОбработка) 
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ПередСозданием", Начало, Конец, Значения, Текст, СтандартнаяОбработка);
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ПередНачаломРедактирования(Элемент, НовыйЭлемент, СтандартнаяОбработка) 
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ПередНачаломРедактирования", НовыйЭлемент, СтандартнаяОбработка);
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ПриСменеТекущегоПериодаОтображения(Элемент, ТекущиеПериодыОтображения, СтандартнаяОбработка) 
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ПриСменеТекущегоПериодаОтображения", ТекущиеПериодыОтображения, СтандартнаяОбработка);
КонецПроцедуры

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ПередНачаломБыстрогоРедактирования(Элемент, СтандартнаяОбработка) 
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ПередНачаломБыстрогоРедактирования", СтандартнаяОбработка);
КонецПроцедуры 

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ОбработкаФормированияКоманд(Элемент, Параметры, Команды, КомандаПоУмолчанию) 
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ОбработкаФормированияКоманд", Параметры, Команды, КомандаПоУмолчанию);
КонецПроцедуры 

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__НажатиеНаЭлементеИзмерения(Элемент, ЭлементИзмерения, ЗначенияИзмерений, СтандартнаяОбработка) 
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "НажатиеНаЭлементеИзмерения", ЭлементИзмерения, ЗначенияИзмерений, СтандартнаяОбработка);
КонецПроцедуры 

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__НажатиеНаЭлементеШкалыВремени(Элемент, ЭлементШкалыВремени, Дата)  
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "НажатиеНаЭлементеШкалыВремени", ЭлементШкалыВремени, Дата); 
КонецПроцедуры 

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__НажатиеНаПеренесенномЗаголовкеШкалыВремени(Элемент, Дата)  
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "НажатиеНаПеренесенномЗаголовкеШкалыВремени", Дата); 
КонецПроцедуры 

#КонецОбласти

#Область СобытияСтраниц

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__ПриСменеСтраницы(Элемент, ТекущаяСтраница) 
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "ПриСменеСтраницы", ТекущаяСтраница);
КонецПроцедуры 

#КонецОбласти

#Область СобытияГиперСсылок

&НаКлиенте
Процедура А1_ОбработчикУниверсальнойФормы__Нажатие(Элемент, СтандартнаяОбработка) 
	А1_ОбработчикУниверсальнойФормы__Действие(Элемент, "Нажатие", СтандартнаяОбработка);
КонецПроцедуры

#КонецОбласти

#КонецОбласти
